# =============================================================================
# AgriProfit API - Staging Environment Configuration
# =============================================================================
# This file contains staging-specific settings.
# Set ENVIRONMENT=staging to activate staging mode.

# =============================================================================
# ENVIRONMENT
# =============================================================================
ENVIRONMENT=staging
DEBUG=false

# =============================================================================
# DATABASE
# =============================================================================
# Update with staging database credentials
DATABASE_URL=postgresql+psycopg://agriprofit:CHANGEME@staging-db.agriprofit.in:5432/agriprofit_staging
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_ECHO=false

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate a secure random key: openssl rand -hex 32
JWT_SECRET_KEY=CHANGEME-staging-secret-key-min-32-characters
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# =============================================================================
# OTP CONFIGURATION
# =============================================================================
OTP_LENGTH=6
OTP_EXPIRE_MINUTES=5
OTP_COOLDOWN_SECONDS=60
OTP_MAX_ATTEMPTS=3

# =============================================================================
# SMS PROVIDER
# =============================================================================
# Enable SMS in staging for testing
SMS_PROVIDER=fast2sms
FAST2SMS_API_KEY=CHANGEME

# =============================================================================
# CORS
# =============================================================================
# Restrict to staging domains
CORS_ORIGINS=https://staging.agriprofit.in,https://staging-app.agriprofit.in
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Request-ID

# =============================================================================
# RATE LIMITING
# =============================================================================
# Use Redis for distributed rate limiting in staging
REDIS_URL=redis://staging-redis.agriprofit.in:6379/0
RATE_LIMIT_CRITICAL=5/minute
RATE_LIMIT_WRITE=30/minute
RATE_LIMIT_READ=100/minute
RATE_LIMIT_ANALYTICS=50/minute

# =============================================================================
# LOGGING
# =============================================================================
LOG_DIR=logs
LOG_LEVEL=INFO
LOG_RETENTION_DAYS=30
LOG_JSON_FORMAT=true

# =============================================================================
# SECURITY
# =============================================================================
ALLOWED_HOSTS=staging.agriprofit.in,staging-api.agriprofit.in
HTTPS_REDIRECT=true

# =============================================================================
# API METADATA
# =============================================================================
API_TITLE=AgriProfit API (Staging)
API_VERSION=1.0.0-staging
API_CONTACT_EMAIL=staging@agriprofit.in

# =============================================================================
# MONITORING
# =============================================================================
# Enable Sentry for staging error tracking
SENTRY_DSN=CHANGEME
